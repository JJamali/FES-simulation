function hip_time_regression = get_hip_time_regression()
%UNTITLED3 Summary of this function goes here
%   Detailed explanation goes here
data = [0.26086956521739957, 29.53370294718412
1.5652173913043583, 29.28275459585643
2.956521739130446, 29.167201634082286
4.000000000000012, 29.04697986577181
5.130434782608697, 28.79369711117596
5.999999999999993, 28.402684563758395
6.9565217391304515, 27.878611030055442
7.913043478260878, 27.488765684271964
9.043478260869563, 26.564341990078805
10.08695652173914, 25.772979282171
11.217391304347835, 24.714327400058366
12.260869565217398, 23.922964692150575
13.304347826086968, 23.131601984242785
14.347826086956534, 22.071782900496075
15.217391304347835, 21.278085789320116
16.08695652173914, 20.484388678144164
16.608695652173925, 19.417566384592952
17.478260869565226, 19.160782025094854
18.173913043478272, 18.364750510650723
18.869565217391315, 17.83717537204553
19.73913043478262, 16.775021885030654
20.60869565217392, 15.712868398015772
21.65217391304349, 14.384592938430124
22.521739130434796, 13.32243945141525
23.217391304347835, 12.257951561132202
24.086956521739147, 11.195798074117313
24.956521739130444, 10.133644587102438
25.826086956521742, 9.33994747592648
26.52173913043479, 8.27545958564344
27.3913043478261, 6.944849722789634
28.260869565217398, 6.6880653632915354
29.130434782608702, 5.357455500437723
29.652173913043484, 4.559089582725434
30.695652173913054, 3.230814123139787
31.3913043478261, 2.43478260869567
32.434782608695656, 1.374963524948953
33.1304347826087, 0.3104756346659059
34.17391304347827, -0.7493434490808042
35.3913043478261, -2.3437408812372027
36.60869565217392, -3.401225561715762
37.652173913043484, -4.7295010213014095
38.695652173913054, -5.78932010504812
39.739130434782616, -6.849139188794837
40.782608695652186, -7.908958272541554
41.478260869565226, -8.973446162824601
42.52173913043479, -9.496352494893458
43.56521739130436, -10.287715202801252
44.60869565217392, -11.079077910709032
45.30434782608697, -11.875109425153155
46.69565217391305, -12.393346950685697
47.56521739130436, -13.187044061861656
48.60869565217392, -13.709950393930527
49.65217391304349, -14.501313101838306
50.69565217391305, -14.487306682229317
51.739130434782616, -14.473300262620327
52.956521739130444, -14.456959439743173
54.869565217391326, -14.431281003793359
56.26086956521742, -14.144149401809116
57.30434782608697, -13.59323023052228
58.17391304347828, -12.776189086664672
59.04347826086959, -11.690691566968155
60.086956521739154, -10.871316019842382
60.95652173913045, -10.054274875984788
62.000000000000014, -8.429530201342246
62.869565217391326, -7.075576305806777
63.56521739130436, -5.723956813539495
64.43478260869567, -4.9069156696818865
64.95652173913045, -3.557630580682762
65.82608695652176, -2.4721330609862378
66.34782608695653, -1.3913043478260363
67.21739130434784, 0.4995622993872715
67.91304347826089, 1.8511817916545539
68.78260869565219, 3.4735920630289385
69.47826086956525, 4.825211555296228
70.17391304347828, 6.176831047563525
70.69565217391306, 7.526116136562649
71.56521739130436, 9.148526407937027
72.43478260869567, 10.770936679311411
73.47826086956525, 12.12722497811503
74.34782608695653, 14.018091625328331
75.21739130434784, 15.90895827254164
76.60869565217394, 17.80682812955944
77.30434782608698, 19.42690399766566
78.34782608695653, 21.051648672308204
79.39130434782611, 22.40793697111183
80.78260869565219, 23.500437700612842
81.82608695652176, 24.588269623577542
82.69565217391306, 25.673767143274066
83.91304347826089, 26.763933469506927
85.30434782608698, 27.319521447330096
86.34782608695653, 27.870440618616936
87.39130434782611, 28.42135978990378
88.60869565217394, 28.97461336445878
89.82608695652176, 28.990954187335934
91.04347826086959, 29.27575138605202
92.26086956521742, 29.29209220892917
94.00000000000001, 29.04697986577189
95.04347826086959, 29.329442661219804
96.08695652173915, 29.343449080828794
96.95652173913045, 29.35512109716962
97.82608695652176, 29.36679311351044
98.69565217391306, 29.110008754012334
100.26086956521742, 29.13101838342582];

time = (data(:,1)-60)./40; % normalize between -1.5 to 1, we will only be taking values that are 60 to 100

hip_time_regression = polyfit(time,data(:,2),9);

figure(1);
subplot(1,2,1);
plot(time, data(:,2));
title("Unfitted hip angle");
subplot(1,2,2);
plot(time, polyval(hip_time_regression,time));
title("Fitted hip angle");
end

%{
trimmed_data = [31.740558052653082, 1.7567567567567721
33.37998365536163, -0.13513513513511555
34.84691494950674, -1.7567567567567295
36.22730722082774, -3.5135135135135016
37.694384449244055, -4.999999999999986
39.42034907477672, -6.756756756756744
41.31895394314401, -8.648648648648631
43.30409783433541, -10.40540540540539
45.202994571245114, -12.027027027027003
47.27482341953184, -13.513513513513502
49.34709007063219, -14.594594594594568];
%}
